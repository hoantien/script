#!/bin/bash
adb shell "fpga_off.sh"
                sleep 1
adb shell "fpga_on.sh"
                sleep 1
adb shell "echo 1 > /sys/class/light_ccb/common/manual_control"
adb shell "echo 2 0x1000 0x00 0x03 > /sys/class/light_ccb/i2c_interface/i2c_w"
                sleep 1
adb shell "echo 4 0x0000 0x01 0x00 0x00 0x02 > /sys/class/light_ccb/i2c_interface/i2c_w"
                sleep 1
sleep 5

# For each camera, stream on then do setting

# A1
adb shell "echo 7 0x0002 0x02 0x00 0x00 0x01 0x00 0x00 0x01 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0048 0x02 0x00 0x00 0x00 0x03 0x00 0x00 0x00 0x96 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 13 0x0032 0x02 0x00 0x00 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x02 0x00 0x00 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

# A2
adb shell "echo 7 0x0002 0x04 0x00 0x00 0x01 0x00 0x00 0x01 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0048 0x04 0x00 0x00 0x00 0x03 0x00 0x00 0x00 0x96 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 13 0x0032 0x04 0x00 0x00 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x04 0x00 0x00 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

# A3
adb shell "echo 7 0x0002 0x08 0x00 0x00 0x01 0x00 0x00 0x01 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0048 0x08 0x00 0x00 0x00 0x03 0x00 0x00 0x00 0x96 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 13 0x0032 0x08 0x00 0x00 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x08 0x00 0x00 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

# A4
adb shell "echo 7 0x0002 0x10 0x00 0x00 0x01 0x00 0x00 0x01 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0048 0x10 0x00 0x00 0x00 0x03 0x00 0x00 0x00 0x96 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 13 0x0032 0x10 0x00 0x00 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x10 0x00 0x00 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

# A5
adb shell "echo 7 0x0002 0x20 0x00 0x00 0x01 0x00 0x00 0x01 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0048 0x20 0x00 0x00 0x00 0x03 0x00 0x00 0x00 0x96 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 13 0x0032 0x20 0x00 0x00 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x20 0x00 0x00 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

# B1
adb shell "echo 13 0x0032 0x40 0x00 0x00 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x40 0x00 0x00 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

# B2
adb shell "echo 13 0x0032 0x80 0x00 0x00 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x80 0x00 0x00 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

# B3
adb shell "echo 13 0x0032 0x00 0x01 0x00 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x00 0x01 0x00 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

# B4
adb shell "echo 13 0x0032 0x00 0x02 0x00 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x00 0x02 0x00 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

# B5
adb shell "echo 13 0x0032 0x00 0x04 0x00 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x00 0x04 0x00 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

# C1
adb shell "echo 13 0x0032 0x00 0x08 0x00 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x00 0x08 0x00 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

# C2
adb shell "echo 13 0x0032 0x00 0x10 0x00 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x00 0x10 0x00 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

# C3
adb shell "echo 13 0x0032 0x00 0x20 0x00 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x00 0x20 0x00 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

# C4
adb shell "echo 13 0x0032 0x00 0x40 0x00 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x00 0x40 0x00 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

# C5
adb shell "echo 13 0x0032 0x00 0x80 0x00 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x00 0x80 0x00 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

# C6
adb shell "echo 13 0x0032 0x00 0x00 0x01 0x00 0x03 0x00 0x00 0x00 0x00 0x02 0xfa 0xf0 0x80 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1
adb shell "echo 9 0x0030 0x00 0x00 0x01 0x00 0x03 0x00 0x00 0x10 0x00 > /sys/class/light_ccb/i2c_interface/i2c_w"
sleep 1

adb shell "cd /data; sh set_capture_ucid.sh AB"
sleep 1
adb shell "cd /data; sh capture_new.sh AB test /sdcard/DCIM/rdi/ trigger"
sleep 1

done

